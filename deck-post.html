<!doctype html>
<html lang="ja">


<head>
    <!-- ===== 共通head ここから ===== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="5NzYWNH5_YUg0dUV2iCzg_bSo7M1lLJi6IzOeF2dGXM" />
    <link rel="icon" href="favicon.ico">
    <!-- ===== 共通head ここまで ===== -->

    <!-- ===== ページ差分head ここから ===== -->
    <title>モスロギア 神託のメソロギア デッキ投稿</title>

    <!-- 検索キーワード -->
    <meta name="keywords" content="
    神託のメソロギア,神託,メソロギア,モスロギア,カードゲーム,DCG,デッキ投稿,デッキ共有,投稿デッキ,デッキ一覧,デッキ解説">

    <!-- ページの説明（検索結果の下に表示） -->
    <meta name="description" content="このサイトは、アプリ「神託のメソロギア」のカード一覧、デッキ構築、デッキ分析ができる非公式サイトです。カード検索やデッキ管理をスマホでも快適に！">

    <!-- OGP基本 -->
    <meta property="og:title" content="モスロギア | 神託のメソロギア デッキ投稿">
    <meta property="og:description" content="神託のメソロギアのデッキ投稿・共有ページです。投稿されたデッキ一覧やマイ投稿をチェックできます。">
    <meta property="og:image" content="https://mosurogia.github.io/mesorogia-cards/img/deckpostogp.jpg">
    <meta property="og:url" content="https://mosurogia.github.io/mesorogia-cards/deck-post.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="モスロギア | 神託のメソロギア デッキ投稿">

    <!-- Twitterカード向け -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="モスロギア | 神託のメソロギア デッキ投稿">
    <meta name="twitter:description" content="神託のメソロギアのデッキ投稿・共有ページです。">
    <meta name="twitter:image" content="https://mosurogia.github.io/mesorogia-cards/img/deckpostogp.jpg">

    <!-- CSS -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/common-page24.css">
    <link rel="stylesheet" href="css/common-page124.css">
    <link rel="stylesheet" href="css/common-page234.css">
    <link rel="stylesheet" href="css/page4.css">

    <!--画像生成-->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <!-- ===== ページ差分head ここまで ===== -->
</head>
<body>

    <header class="main-header">
        <div class="header-logo">
            <img src="img/tatudosi.webp" alt="神託のメソロギア ロゴ" />
        </div>
        <nav class="header-nav">
            <a href="index.html">📖 一覧</a>
            <a href="deckmaker.html">🃏 デッキメーカー</a>
            <a href="cardcheker.html">📊 所持率チェッカー</a>
            <a class="active-page" href="deck-post.html">📤 デッキ投稿</a>
        </nav>
    </header>

<!-- タブバー -->
<div class="tab-bar" style="display: none;">
    <div class="tab active" id="title-list" onclick="switchTab('tab-post-list', this)">
        <span>📤 投稿一覧</span>
    </div>
    <div class="tab" onclick="switchTab('tab-compare', this)">
        <span>⚖️ デッキ比較</span>
    </div>
</div>


<!--投稿一覧タブ -->
<div class="tab-content active" id="tab-post-list">
    <main id="post-app" aria-labelledby="title-list">

        <!-- ツールバー -->
        <div class="toolbar" id="toolbar">
            <div class="spacer"></div>

            <button class="btn-ghost" type="button" onclick="location.href='deckmaker.html'">
                ➕ デッキを投稿する
            </button>

            <button id="toMineBtn" class="btn-ghost" type="button" aria-controls="pageMine">
                👤 マイ投稿
            </button>
        </div>

        <!-- キャンペーン情報バー（開催中のみ表示） -->
        <div id="campaign-banner" class="campaign-banner" style="display:none;">
            <!-- ① 上段：🎉 + キャンペーン名 + 期間 -->
            <div class="campaign-banner-title-row">
                <span class="campaign-banner-emoji" aria-hidden="true">🎉</span>

                <span class="campaign-banner-title" id="campaign-banner-title">キャンペーン</span>
                <span class="campaign-banner-range" id="campaign-banner-range"></span>
            </div>

            <!-- ② 下段：宣伝文 + 詳細ボタン（スマホでも横並び固定） -->
            <div class="campaign-banner-cta-row">
                <div class="campaign-banner-desc" id="campaign-banner-text">
                    デッキを投稿して、キャンペーンに参加しよう！<br>
                    <strong>詳しい参加条件や報酬は、詳細をチェック！</strong>
                </div>

                <button type="button" class="campaign-btn campaign-banner-btn" data-open="campaignDetailModal">
                    詳細 ▶
                </button>
            </div>
        </div>

        <!-- 並び替え・フィルターバー -->
        <div class="list-controls" id="listControls">
            <div class="list-controls-filter">
                <label class="sort-label">
                    並び替え：
                    <select id="sortSelect" class="ctrl-select">
                        <option value="new" selected>新しい順</option>
                        <option value="old">古い順</option>
                        <option value="like">いいね順</option>
                    </select>
                </label>
                <button type="button" id="filterBtn" class="ctrl-btn">
                    フィルター
                </button>
            </div>
            <!-- 選択中チップ（投稿フィルター用） -->
            <div id="active-chips-bar" style="display:none;">
                <div class="chips-scroll"></div>
            </div>
        </div>


        <!-- =========================
                     一覧＋詳細：マスタ詳細レイアウト
                ========================== -->
        <div id="postMainLayout" class="post-main-layout">

            <!-- ▼ 左カラム：投稿一覧＋ページネーション -->
            <div class="post-master-column">

                <!-- 一覧リスト（JSが流し込み） -->
                <section id="postList" class="post-list" aria-live="polite"></section>

                <!-- 件数＋ページネーション（投稿一覧専用） -->
                <div id="listFooter" class="list-footer">
                    <div id="resultCount" class="list-status"></div>

                    <div class="pager">
                        <button id="pagePrev" class="pager-btn" type="button">
                            ◀ 前へ
                        </button>
                        <span id="pageInfo" class="pager-info">
                            1 / 1
                        </span>
                        <button id="pageNext" class="pager-btn" type="button">
                            次へ ▶
                        </button>
                    </div>
                </div>
            </div>
            <!-- ▲ 左カラム -->

            <!-- ▼ 右カラム：詳細ペイン（PC専用想定） -->
            <section id="postDetailPane" class="post-detail-pane" aria-live="polite">
                <div class="post-detail-empty">
                    <div class="post-detail-empty-icon">👈</div>
                    <div class="post-detail-empty-text">
                        <div class="post-detail-empty-title">デッキ詳細パネル</div>
                        <p class="post-detail-empty-main">
                            左の<span class="post-detail-empty-accent">投稿カード</span>をクリックすると、<br>
                            ここにデッキの詳細が表示されます。
                        </p>
                        <p style="margin-top:10px;">
                            <a href="deckmaker.html" class="post-cta-link">
                                🃏 自分のデッキを投稿する(デッキメーカーページ)
                            </a>
                        </p>
                    </div>
                </div>
            </section>
            <!-- ▲ 右カラム -->


        </div>
    </main>

    <!-- =========================
            Page: マイ投稿 (#pageMine)
        ========================== -->
    <main id="pageMine" class="page" hidden aria-labelledby="title-mine">
        <!-- 上段：ヘッダー（戻る＋タイトル） -->
        <div class="mine-header">
            <button id="backToListBtn" class="btn-ghost" type="button">← 戻る</button>

            <div class="mine-header-title">
                <h2 id="title-mine" style="margin: .5rem 0 0;">マイ投稿</h2>
                <button id="mineHelpBtn" class="mine-help-btn" type="button" aria-label="マイ投稿の説明">
                    ?
                </button>
            </div>
        </div>

        <!-- ▼ マイ投稿：説明モーダル -->
        <div id="mineHelpModal" class="modal" style="display:none;">
            <div class="modal-content mine-help-modal" role="dialog" aria-modal="true" aria-labelledby="mineHelpTitle">
                <h3 id="mineHelpTitle" class="filter-maintitle">マイ投稿について</h3>

                <div class="mine-header-note" style="margin:0;">
                    <p class="mine-header-lead">
                        マイページでは、ログインすることで<strong>自分が投稿したデッキ</strong>を確認できます。
                    </p>

                    <ul class="mine-header-list">
                        <li>🗂 自分のデッキ投稿を一覧で確認できます</li>
                        <li>✏️ 投稿したデッキの<strong>デッキ解説編集</strong>ができます</li>
                        <li>🗑 不要になったデッキ投稿の<strong>削除</strong>ができます</li>
                    </ul>

                    <div class="mine-header-beta">
                        🧪 <strong>ベータ版のお知らせ</strong><br>
                        今後のアップデートで、以下の機能を追加予定です。
                        <ul>
                            <li>❤️ いいねしたデッキ一覧の表示</li>
                            <li>🏷 タグの編集機能</li>
                            <li>🃏 デッキコード・デッキ内容の編集機能</li>
                        </ul>
                    </div>
                </div>

                <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px;">
                    <button type="button" class="btn-ghost" id="mineHelpCloseBtn">閉じる</button>
                </div>
            </div>
        </div>


        <!-- 上段：ログイン状況枠 -->
        <section class="mine-login-section">
            <div class="mine-login-box">

                <!-- 上段：ID＋ボタンを横並び -->
                <div class="mine-login-top">
                    <!-- 左：ログインID -->
                    <div class="mine-login-row">
                        <span class="mine-login-label">ログイン状況(ID):</span>
                        <span id="mine-login-username" class="mine-login-username">未ログイン</span>
                    </div>

                    <!-- 右：ボタン群 -->
                    <div class="mine-login-auth">

                        <!-- 未ログイン時：新規登録 / ログイン -->
                        <div id="auth-mini-loggedout" style="display:none;">
                            <button type="button" id="open-login-modal" class="auth-mini-btn" data-open="authLoginModal">
                                新規登録 / ログイン
                            </button>
                        </div>

                        <!-- ログイン時：アカウントデータ ＋ ログアウト -->
                        <div id="auth-mini-loggedin" style="display:none;">
                            <div class="auth-logged-in-row">
                                <button class="btn ghost" type="button" id="account-data-btn" data-open="accountDataModal">
                                    アカウントデータ
                                </button>
                                <button class="btn danger" type="button" id="auth-logout-btn">
                                    ログアウト
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- 下段：説明文 -->
                <p class="mine-login-note">
                    アカウント登録・ログインすることで自分の投稿を表示・編集できます。
                </p>

            </div>
        </section>


            <!-- =========================
                        マイ投稿：一覧＋詳細レイアウト（PC用）
                    ========================== -->
            <div id="mineMainLayout" class="post-main-layout">

                <!-- ▼ 左カラム：マイ投稿一覧＋ページネーション -->
                <div class="post-master-column">

                    <!-- マイ投稿リスト（自分の投稿だけ / 10件単位表示） -->
                    <!-- ★ 未ログイン時に表示する案内 -->
                    <div id="mine-error" class="mine-nologin" style="display:none;">
                        <p>ここにあなたの投稿が表示されます。</p>
                        <p>ログインすると、投稿したデッキ一覧を確認できます。</p>
                    </div>
                    <!-- マイ投稿が0件のときの案内 -->
                    <div id="mine-empty" class="mine-empty" style="display:none;">
                        <p>まだ投稿がありません。</p>
                        <p>
                            <a href="deckmaker.html" class="mine-empty-link">
                                🃏 デッキメーカーでデッキを作りましょう！
                            </a>
                        </p>
                    </div>

                    <!-- マイ投稿が1件以上のときのリスト -->
                    <section id="myPostList" class="post-list" aria-live="polite"></section>

                    <!-- 件数＋ページネーション（マイ投稿専用） -->
                    <div id="mineFooter" class="list-footer">
                        <div id="resultCountMine" class="list-status"></div>

                        <div class="pager">
                            <button id="minePagePrev" class="pager-btn" type="button">
                                ◀ 前へ
                            </button>
                            <span id="minePageInfo" class="pager-info">
                                1 / 1
                            </span>
                            <button id="minePageNext" class="pager-btn" type="button">
                                次へ ▶
                            </button>
                        </div>
                    </div>
                </div>
                <!-- ▲ 左カラム -->

                <!-- ▼ 右カラム：マイ投稿用 詳細ペイン（PC専用） -->
                <section id="postDetailPaneMine" class="post-detail-pane" aria-live="polite">
                    <div class="post-detail-empty">
                        <div class="post-detail-empty-icon">👈</div>
                        <div class="post-detail-empty-text">
                            <div class="post-detail-empty-title">デッキ詳細パネル</div>
                            <p class="post-detail-empty-main">
                                左の<span class="post-detail-empty-accent">マイ投稿カード</span>をクリックすると、<br>
                                ここにそのデッキの詳細が表示されます。
                            </p>
                        </div>
                    </div>
                </section>
                <!-- ▲ 右カラム -->

            </div>
    </main>

    <!-- ▼ 投稿フィルター モーダル -->
    <div id="postFilterModal" class="modal" style="display:none;">
        <div class="modal-content post-filter-modal" role="dialog" aria-modal="true" aria-labelledby="postFilterTitle">
            <h3 id="postFilterTitle" class="filter-maintitle">投稿のフィルター</h3>

            <div id="main-filters">
                <!-- タグで絞り込み -->
                <div class="filter-block">
                    <strong class="filter-title">タグで絞り込み</strong>
                    <p class="filter-help">デッキ情報 / 種族 / カテゴリ（テーマ）で整理して表示します。</p>

                    <!-- ▼ デッキ情報（常時表示） -->
                    <div class="filter-section">
                        <div class="filter-section-title">▼ デッキ情報</div>
                        <div id="postFilterDeckInfoArea" class="filter-group" data-key="デッキ情報">
                            <!-- JS で .filter-btn.post-filter-tag-btn を並べる -->
                        </div>
                    </div>

                    <!-- ▼ 種族（常時表示） -->
                    <div class="filter-section">
                        <div class="filter-section-title">▼ 種族</div>
                        <div id="postFilterRaceArea" class="filter-group" data-key="種族">
                            <!-- JS で .filter-btn.post-filter-tag-btn を並べる -->
                        </div>
                    </div>

                    <!-- ▶ カテゴリ（テーマ）（折りたたみ） -->
                    <details class="filter-details" id="postFilterCategoryDetails">
                        <summary class="filter-section-title">▶ カテゴリ（テーマ）</summary>
                        <div id="postFilterCategoryArea" class="filter-group" data-key="カテゴリ">
                            <!-- JS で .filter-btn.post-filter-tag-btn を並べる -->
                        </div>
                    </details>
                </div>
                <!-- ユーザータグで絞り込み -->
                <div class="filter-block">
                    <strong class="filter-title">ユーザータグで絞り込み</strong>
                    <p class="filter-help">投稿者が自由に付けたタグ（青タグ）を検索できます。</p>

                    <input id="userTagQuery" class="ctrl-input" type="text" placeholder="例：○○大会入賞 / 脳汁 / 「カード名」" autocomplete="off">

                    <div class="user-tag-panel">
                        <!-- サジェスト＋選択中エリア -->
                        <div class="user-tag-subtitle">候補（クリックで追加）</div>
                        <div id="userTagSuggest" class="user-tag-suggest">
                            <!-- ★ 初期から置いておく：空表示（ここに候補が出ます / 候補がありません） -->
                            <div class="user-tag-empty" data-user-tag-empty>ここに候補が出ます</div>

                            <!-- ★ 候補チップはここにだけ描画する -->
                            <div class="user-tag-suggest-items" data-user-tag-items></div>
                        </div>

                    <div class="user-tag-subtitle">選択中(複数選択可)</div>
                    <div id="userTagSelectedArea" class="user-tag-selected-area">
                        <!-- ★ 初期から置いておく：未選択表示 -->
                        <div class="user-tag-empty" data-user-tag-selected-empty>未選択</div>

                        <!-- ★ 選択チップはここにだけ描画する -->
                        <div class="user-tag-selected-items" data-user-tag-selected-items></div>
                    </div>
                    </div>
                </div>
            </div>

            <!-- ▼ カード検索機能 ベータ版お知らせ -->
            <section class="beta-note " style="margin-top: 12px;">
                <div class="beta-note-icon">🧪</div>
                <div class="beta-note-body">
                    <p class="beta-note-title">カード検索機能は準備中です</p>
                    <p class="beta-note-text">
                        投稿フィルター内でのカード名・条件検索機能は、<br>
                        今後のアップデートで実装予定です。
                    </p>
                </div>
            </section>
            <!-- ▲ カード検索機能 ベータ版お知らせ -->

            <div class="modal-footer">
                <button class="modal-buttun" type="button" id="postFilterApplyBtn">
                    この条件で絞り込む
                </button>
                <button class="modal-buttun" type="button" id="postFilterResetBtn">
                    リセット
                </button>
                <button class="modal-buttun modal-close-btn" type="button" id="postFilterCloseBtn">
                    閉じる
                </button>
            </div>
        </div>
    </div>
    <!-- ▲ 投稿フィルター モーダル -->


        <!-- ▼ ログイン / 新規登録 モーダル -->
        <div class="account-modal" id="authLoginModal" style="display:none;">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="authLoginModalTitle">
                <div class="account-modal-head">
                    <h3 id="authLoginModalTitle">ログイン / 新規登録</h3>
                    <button type="button" class="account-close" data-close="authLoginModal" aria-label="閉じる">×</button>
                </div>

                <div class="account-modal-body">
                    <div class="auth-stack">
                        <!-- ▼ 非ログイン時に表示 -->
                        <form id="auth-login-form" class="auth-login-form">

                            <div class="poster-line" style="margin-top:6px;">
                                <input id="auth-username" name="username" type="text" placeholder="ログインID" autocomplete="username"
                                    autocapitalize="none" autocorrect="off" spellcheck="false">
                            </div>

                            <div class="poster-line">
                                <input id="auth-password" name="current-password" type="password" placeholder="パスワード"
                                    autocomplete="current-password" autocapitalize="off" autocorrect="off" spellcheck="false">
                                <button type="button" id="auth-pass-toggle" class="btn ghost">表示</button>
                            </div>

                            <!-- ▼ 追加：新規登録用の確認パスワード欄 -->
                            <div class="poster-line">
                                <input id="auth-password-confirm" name="new-password-confirm" type="password" placeholder="パスワード（確認用・新規登録時のみ）"
                                    autocomplete="new-password" autocapitalize="off" autocorrect="off" spellcheck="false">
                            </div>
                            <!-- ▲ ここまで追加 -->

                            <div class="auth-buttons">
                                <button class="btn primary" type="button" id="auth-signup-btn">新規登録</button>
                                <button class="btn primary" type="submit" id="auth-login-btn-submit">ログイン</button>
                            </div>

                            <p id="auth-inline-status" class="auth-inline-status" aria-live="polite" style="margin:.5rem 0 0; font-size:.9rem;">
                            </p>
                        </form>

                        <!-- ▼ ログイン中に表示 -->
                        <div id="auth-logged-in" class="auth-logged-in" style="display:none;">
                            <p style="margin:0;">ログイン中です。</p>
                            <p style="margin:4px 0 0; font-size:.85rem; opacity:.8;">
                                アカウント情報の変更は、マイ投稿ページの「ログイン状況」枠から行えます。
                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- ▼ アカウントデータ モーダル（form版） -->
        <div class="account-modal" id="accountDataModal" style="display:none;">
            <form id="account-data-form" class="modal-content" role="dialog" aria-modal="true"
                aria-labelledby="accountModalTitle">

                <div class="account-modal-head">
                    <h3 id="accountModalTitle">アカウントデータ変更</h3>
                    <button type="button" class="account-close" data-close="accountDataModal" aria-label="閉じる">×</button>
                </div>

                <div class="account-modal-body">
                    <!-- 新しいログイン名 -->
                    <div class="account-field">
                        <label>新しいログイン名</label>
                        <input id="acct-login-name" name="new-username" type="text" autocomplete="username"
                            placeholder="新しいログイン名を入力">
                    </div>

                    <!-- 新しいパスワード -->
                    <div class="account-field">
                        <label>新しいパスワード</label>
                        <div class="account-pass-row">
                            <input id="acct-password" name="new-password" type="password" autocomplete="new-password"
                                placeholder="※4文字以上">
                            <button type="button" class="btn ghost" id="acct-pass-toggle">表示</button>
                        </div>
                        <small class="account-hint">※ 保存時に現在のパスワード確認を行います</small>
                    </div>

                    <!-- 投稿者名 -->
                    <div class="account-field">
                        <label>投稿者名</label>
                        <input id="acct-poster-name" name="poster-name" type="text" autocomplete="nickname"
                            placeholder="投稿に表示する名前（任意）">
                    </div>

                    <!-- Xアカウント -->
                    <div class="account-field">
                        <label>Xアカウント</label>
                        <div class="X-info">
                            <input id="acct-x" name="poster-x" type="text" inputmode="verbatim" placeholder="（@なし可）">
                            <button type="button" class="x-link-btn" id="acct-x-open" title="Xプロフィールを開く">X を確認</button>
                        </div>
                    </div>

                    <div class="account-note">
                        ※ 投稿者名・Xアカウントを登録すると、次回以降のログイン時に自動入力されます。
                    </div>
                </div>

                <div class="account-modal-footer">
                    <button type="button" class="btn ghost" data-close="accountDataModal">キャンセル</button>
                    <!-- クリックで JS が送信するので type="button" のままでOK -->
                    <button type="button" class="btn danger" id="acct-save-btn" disabled>保存</button>
                </div>

            </form>
        </div>


        <!-- ▼ パスワード保存用の隠しログインフォーム -->
        <form id="auth-login-save" method="get" action="" target="auth-login-save-frame" autocomplete="on" style="position:absolute; left:-9999px; top:-9999px;
                       width:1px; height:1px; overflow:hidden;
                       opacity:0; pointer-events:none;">
            <input type="text" name="username" autocomplete="username">
            <input type="password" name="password" autocomplete="current-password">
        </form>
        <iframe name="auth-login-save-frame" style="display:none;"></iframe>

</div>


<!--デッキ比較タブ -->
<div class="tab-content" id="tab-compare">
    <!-- ▼ デッキ比較機能 ベータ版お知らせ -->
    <section class="beta-note beta-note--compare" id="betaCompareNote">
        <div class="beta-note-icon">🧪</div>
        <div class="beta-note-body">
            <p class="beta-note-title">デッキ比較機能はベータ版では準備中です</p>
            <p class="beta-note-text">
                現在のベータ版ではデッキ比較タブの機能はまだ利用できません。<br>
                今後のアップデートで、投稿デッキ同士を比較できる機能を追加予定です。
            </p>
        </div>
    </section>
</div>



<!-- ▼ カード解説：候補選択モーダル（マイ投稿編集でも使用） -->
<div class="modal" id="cardNoteSelectModal" style="display:none;">
    <div class="modal-content cardnote-modal">
        <h3 class="filter-maintitle">カードを選択</h3>
        <div id="cardNoteCandidates" class="cardnote-grid"><!-- JSで5列グリッド生成 --></div>

        <div class="modal-footer" style="gap:.5rem;">
            <button type="button" id="cardNoteClose" class="modal-buttun">閉じる</button>
        </div>
    </div>
</div>

<!-- ▼ デッキコード：編集モーダル（マイ投稿編集用） -->
<div class="modal" id="deckCodeEditModal" style="display:none;">
    <div class="modal-content deckcode-modal" role="dialog" aria-modal="true" aria-labelledby="deckCodeEditTitle">
        <h3 id="deckCodeEditTitle" class="filter-maintitle">デッキコードを編集</h3>

        <div class="deckcode-modal-body">
            <div class="deckcode-paste-row">
                <button type="button" id="deckCodePasteBtn" class="modal-buttun deckcode-btn deckcode-btn--paste">
                    クリップボードから貼り付け
                </button>
                <div class="post-hint deckcode-hint">
                    ※ 貼り付け時にデッキコード形式か自動判定します
                </div>
            </div>

            <!-- 入力欄は廃止：表示だけ -->
            <div id="deckCodePreview" class="deckcode-preview-modal" aria-label="デッキコード表示欄">
                ここにデッキコードが表示されます
            </div>

            <div id="deckCodeJudge" class="deckcode-judge" aria-live="polite"></div>
        </div>

        <div class="modal-footer deckcode-footer">
            <button type="button" class="modal-buttun deckcode-btn deckcode-btn--cancel" data-close="deckCodeEditModal">
                キャンセル
            </button>
            <button type="button" id="deckCodeSaveBtn" class="modal-buttun deckcode-btn deckcode-btn--save" disabled>
                保存
            </button>
        </div>
    </div>
</div>

<!-- ===== マナ効率 ヘルプモーダル ===== -->
<div id="manaEfficiencyHelpModal" class="modal" style="display:none;">
    <div class="modal-content flow-modal">
        <button id="mana-help-close" class="modal-close-x" type="button" aria-label="閉じる">
            ×
        </button>

        <h3 class="flow-title">
            <span>❓ マナ効率とは？</span>
        </h3>

        <ol class="flow-steps">
            <li>マナ効率は「デッキが重いか・軽いか」を見る指標です。</li>
            <li>（総チャージャー量＋初期マナ4）÷ 総コスト で計算しています。</li>
            <li>数値が高いほど、マナに余裕があります。</li>
            <li>数値が低いほど、事故しやすい構成です。</li>
        </ol>

        <p class="flow-note">
            ※ あくまで目安です。デッキタイプやプレイ方針によって最適値は変わります。
        </p>
    </div>
</div>

<!--フッター-->
<footer>
    <div>
        <p>
            <strong>モスロギア</strong> はアプリ『神託のメソロギア』の非公式ファンサイトです。<br>
            カード一覧検索やデッキメーカー、デッキ分析などを通じて、プレイヤー向けに便利なデータベース機能を提供しています。
        </p>
    </div>

    <p>
        🔗 公式サイトはこちら 👉
        <a href="https://mythologiatheoracle.com/" target="_blank" rel="noopener noreferrer">
            神託のメソロギア公式サイト
        </a>
    </p>

    © 2025 Mesorogia Cards. All rights reserved.<br />
    当サイトは「神託のメソロギア」の非公式ファンサイトです。画像・データ等の著作権は各権利者に帰属します。<br />
    一部画像素材は「ジュエルセイバーFREE」<br />
    （<a href="https://www.jewel-s.jp/" target="_blank" rel="noopener">https://www.jewel-s.jp/</a>）を使用しています。<br />
    💬 ご要望・不具合報告 👉
    <a href="https://x.com/192837465aruneo" target="_blank" rel="noopener noreferrer">
        @192837465aruneo
    </a>
</footer>

<!--上部に戻るボタン-->
<button id="scrollTopFixed" onclick="scrollToTop()">▲</button>

    <!-- スクリプト群 -->
    <script src="js/common.js"></script>
    <script src="js/common-page124.js"></script>
    <script src="js/common-page24.js"></script>
    <script src="js/common-page234.js"></script>
    <script src="js/page4.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>

</body>

</html>
